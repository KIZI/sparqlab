{% extends "base.html" %}
{% block content %}
<h1>{{name}}</h1>
{{description|markdown}}
<div class="row">
  <div class="col-md-6">
    <div class="clearfix">
      <h2 class="pull-left">Odpověď
        {% if verdict %}
        <i class="fa fa-check-circle-o correct" title="Správná odpověď" aria-hidden="true"></i>
        {% else %}
        <i class="fa fa-times-circle-o incorrect" title="Nesprávná odpověď" aria-hidden="true"></i>
        {% endif %}
      </h2>
      {% if not verdict %}
      <div class="pull-right">
        <button id="reveal-solution-button"
                data-toggle="modal"
                data-target="#confirm-reveal"
                type="button"
                class="btn btn-danger btn-sm">Prozradit řešení</button>
      </div>
      {% endif %}
    </div>
    <textarea id="query" class="form-control" readonly rows="10">{{query.query}}</textarea>
    <textarea id="results" class="hidden" data-type="{{query.results-type}}"> 
      {% safe %}
      {{query.results}}
      {% endsafe %}
    </textarea>
    <h3>Výsledky</h3>
    <div id="query-results"></div>
  </div>
  <div class="col-md-6">
    <h2>Řešení</h2>
    <textarea id="canonical-query"
              class="form-control {% if not verdict %}invisible{% endif %} yasqe-like"
              readonly
              rows="10">{{canonical-query.query}}</textarea>
    <h3>Výsledky</h3>
    <textarea id="canonical-results" class="hidden" data-type="{{canonical-query.results-type}}">
      {% safe %}
      {{canonical-query.results}}
      {% endsafe %}
    </textarea>
    <div id="canonical-query-results"></div>
  </div>
</div>
<div class="modal fade"
  id="confirm-reveal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="Potvrdit prozrazení řešení"
  aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">Opravdu chcete prozradit řešení?</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Ne</button>
                <a id="reveal-solution" class="btn btn-danger btn-ok" data-dismiss="modal">Ano</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block page-scripts %}
{% script "/js/evaluation.js" %}
{% endblock %}
