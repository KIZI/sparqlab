@prefix dcterms:  <http://purl.org/dc/terms/> .
@prefix rdfs:     <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sp:       <http://spinrdf.org/sp#> .

@prefix exercise: <http://mynarz.net/sparqlab/resource/exercise/> .
@prefix sparqlab: <http://mynarz.net/sparqlab/vocabulary#> .

exercise:classes a sp:Query ;
  rdfs:label "Instanciované třídy"@cs ;
  rdfs:comment "Vyberte třídy instanciované v datech (bez opakování)."@cs ;
  sp:text """
SELECT DISTINCT ?class
WHERE {
  [] a ?class .
}
  """ .

exercise:classes-histogram a sp:Query ;
  rdfs:label "Histogram instanciovaných tříd"@cs ;
  rdfs:comment "Spočítejte histogram tříd instanciovaných v datech. Pro každou třídu uveďte počet jejích instancí a výsledky seřaďte sestupně dle počtu."@cs ;
  sp:text """
SELECT ?class (COUNT(?s) AS ?count)
WHERE {
  ?s a ?class .
}
GROUP BY ?class
ORDER BY DESC(?count)
  """ .

exercise:classes-histogram-code-lists a sp:Query ;
  rdfs:label "Histogram tříd instanciovaných v číselnících"@cs ;
  rdfs:comment "Spočítejte histogram tříd instanciovaných v číselnících (pojmenovaný graf `https://data.cssz.cz/resource/dataset/pomocne-ciselniky`). Pro každou třídu uveďte počet jejích instancí a výsledky seřaďte sestupně dle počtu."@cs ;
  sp:text """
SELECT ?class (COUNT(?s) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/pomocne-ciselniky> {
    ?s a ?class .
  }
}
GROUP BY ?class
ORDER BY DESC(?count)
  """ .

exercise:classes-histogram-data a sp:Query ;
  rdfs:label "Histogram tříd instanciovaných v důchodových ročenkách"@cs ;
  rdfs:comment "Spočítejte histogram tříd instanciovaných v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Pro každou třídu uveďte počet jejích instancí a výsledky seřaďte sestupně dle počtu."@cs ;
  sp:text """
SELECT ?class (COUNT(?s) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    ?s a ?class .
  }
}
GROUP BY ?class
ORDER BY DESC(?count)
  """ .

exercise:classes-histogram-metadata a sp:Query ;
  rdfs:label "Histogram tříd instanciovaných v metadatech"@cs ;
  rdfs:comment "Spočítejte histogram tříd instanciovaných v metadatech k důchodovým ročenkám (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech/metadata`). Pro každou třídu uveďte počet jejích instancí a výsledky seřaďte sestupně dle počtu."@cs ;
  sp:text """
SELECT ?class (COUNT(?s) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech/metadata> {
    ?s a ?class .
  }
}
GROUP BY ?class
ORDER BY DESC(?count)
  """ .

exercise:datatypes a sp:Query ;
  rdfs:label "Datové typy"@cs ;
  rdfs:comment "Pro každý datový typ literálů v datech uveďte počet literálů anotovaných tímto datovým typem. Výsledky seřaďte sestupně podle počtu literálů."@cs ;
  sp:text """
SELECT ?datatype (COUNT(*) AS ?count) 
WHERE {
  [] ?p ?literal .
  FILTER (isLiteral(?literal) && datatype(?literal) != "")
  BIND (datatype(?literal) AS ?datatype)
}
GROUP BY ?datatype
ORDER BY DESC(?count)
  """ .

exercise:named-graphs a sp:Query ;
  rdfs:label "Pojmenované grafy"@cs ;
  rdfs:comment "Vyberte pojmenované grafy v datech (bez opakování)."@cs ;
  sp:text """
SELECT DISTINCT ?graph
WHERE {
  GRAPH ?graph {
    [] ?p [] .
  }
}
  """ .

exercise:object-property-path a sp:Query ;
  rdfs:label "Cesty mezi instancemi tříd"@cs ;
  rdfs:comment "Vyberte predikáty spojující instance tříd v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Pro každou kombinaci tříd a predikátu uveďte počet spojení a výsledky podle tohoto počtu seřaďte sestupně."@cs ;
  sp:text """
SELECT ?class1 ?p ?class2 (COUNT(*) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    [ a ?class1 ] ?p [ a ?class2 ] .
  }
}
GROUP BY ?class1 ?p ?class2
ORDER BY DESC(?count)
  """ .

exercise:one-quad a sp:Query ;
  rdfs:label "Jedna čtveřice"@cs ;
  rdfs:comment "Vyberte jednu čtveřici z dat."@cs ;
  sp:text """
SELECT *
WHERE {
  GRAPH ?g {
    ?s ?p ?o .
  }
}
LIMIT 1
  """ .

exercise:one-triple a sp:Query ;
  rdfs:label "Jedna trojice"@cs ;
  rdfs:comment "Vyberte jednu trojici v dat."@cs ;
  sp:text """
SELECT *
WHERE {
  ?s ?p ?o .
}
LIMIT 1
  """ .

exercise:properties a sp:Query ;
  rdfs:label "Predikáty"@cs ;
  rdfs:comment "Vyberte predikáty použité v datech (bez opakování)."@cs ;
  sp:text """
SELECT DISTINCT ?property
WHERE {
  [] ?property [] .
}
  """ .

exercise:properties-histogram a sp:Query ;
  rdfs:label "Histogram predikátů"@cs ;
  rdfs:comment "Spočítejte histogram predikátů použitých v datech. Pro každý predikát uveďte počet jeho použití a výsledky seřaďte sestupně podle tohoto počtu."@cs ;
  sp:text """
SELECT ?property (COUNT(*) AS ?count)
WHERE {
  [] ?property [] .
}
GROUP BY ?property
ORDER BY DESC(?count)
  """ .

exercise:properties-histogram-code-lists a sp:Query ;
  rdfs:label "Histogram predikátů v číselnících"@cs ;
  rdfs:comment "Spočítejte histogram predikátů použitých v číselnících (pojmenovaný graf `https://data.cssz.cz/resource/dataset/pomocne-ciselniky`). Pro každý predikát uveďte počet jeho použití a výsledky seřaďte sestupně    podle tohoto počtu."@cs ;
  sp:text """
SELECT ?property (COUNT(*) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/pomocne-ciselniky> {
    [] ?property [] .
  }
}
GROUP BY ?property
ORDER BY DESC(?count)
  """ . 

exercise:properties-histogram-data a sp:Query ;
  rdfs:label "Histogram predikátů v důchodových ročenkách"@cs ;
  rdfs:comment "Spočítejte histogram predikátů použitých v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Pro každý predikát uveďte počet jeho použití a výsledky seřaďte sestupně podle tohoto počtu."@cs ;
  sp:text """
SELECT ?property (COUNT(*) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    [] ?property [] .
  }
}
GROUP BY ?property
ORDER BY DESC(?count)
  """ .

exercise:properties-histogram-metadata a sp:Query ;
  rdfs:label "Histogram predikátů v metadatech důchodových ročenek"@cs ;
  rdfs:comment "Spočítejte histogram predikátů použitých v metadatech k důchodovým ročenkám (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech/metadata`). Pro každý predikát uveďte počet jeho použití a výsledky seřaďte sestupně podle tohoto počtu."@cs ;
  sp:text """
SELECT ?property (COUNT(*) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech/metadata> {
    [] ?property [] .
  }
}
GROUP BY ?property
ORDER BY DESC(?count)
  """ .

exercise:properties-qb-observation-cardinality-data a sp:Query ;
  rdfs:label "Kardinality predikátů qb:Observation v důchodových ročenkách"@cs ;
  rdfs:comment "Spočítejte minimální a maximální kardinality predikátů použitých pro popis instance `qb:Observation` v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Výsledky seřaďte sestupně podle maximální kardinality."@cs ;
  sp:text """
PREFIX qb: <http://purl.org/linked-data/cube#> 

SELECT ?p (MIN(?cardinality) AS ?minCardinality) (MAX(?cardinality) AS ?maxCardinality)
WHERE {
  {
    SELECT ?p (COUNT(?o) AS ?cardinality)
    WHERE {
      {
        SELECT DISTINCT ?p
        WHERE {
          GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
            [] a qb:Observation ;
              ?p [] .
          }
        }
      }
      GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
        ?s a qb:Observation .
        OPTIONAL {
          ?s ?p ?o .
        }
      }
    }
    GROUP BY ?s ?p
  }
}
GROUP BY ?p
ORDER BY DESC(?maxCardinality)
  """ .

exercise:properties-qb-observation-data a sp:Query ;
  rdfs:label "Predikáty pozorování v důchodových ročenkách"@cs ;
  rdfs:comment "Vyberte predikáty pozorování (tj. instancí `qb:Observation`) v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Výsledky budou obsahovat každý predikát pouze jednou."@cs ;
  sp:text """
PREFIX qb: <http://purl.org/linked-data/cube#> 

SELECT DISTINCT ?property 
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    [] a qb:Observation ; 
      ?property [] .
  }
}
  """ .

exercise:some-data a sp:Query ;
  rdfs:label "Jsou v úložišti data?"@cs ;
  rdfs:comment "Zjistěte, zdali jsou v dotazovaném úložišti data."@cs ;
  sp:text """
ASK {
  [] ?p [] .
}
  """ .

exercise:some-named-graphs a sp:Query ;
  rdfs:label "Jsou v úložišti pojmenované grafy?"@cs ;
  rdfs:comment "Zjistěte, zdali jsou v dotazovaném úložišti pojmenované grafy."@cs ;
  sp:text """
ASK
WHERE {
  GRAPH ?g {
    [] ?p [] .
  }
}
  """ .

exercise:count-triples a sp:Query ;
  rdfs:label "Počet trojic"@cs ;
  rdfs:comment "Spočtěte trojice ve výchozím grafu."@cs ;
  sp:text """
SELECT (COUNT(*) AS ?count)
WHERE {
  [] ?p [] .
}
  """ .

exercise:graph-sizes a sp:Query ;
  rdfs:label "Velikost grafů"@cs ;
  rdfs:comment "Spočtěte trojice v každém grafu a seřaďte výsledky sestupně dle velikosti."@cs ;
  sp:text """
SELECT ?graph (COUNT(*) AS ?size)
WHERE {
  GRAPH ?graph {
    [] ?p [] .
  }
}
GROUP BY ?graph
ORDER BY DESC(?size)
  """ .

exercise:component-property-subproperties a sp:Query ;
  rdfs:label "Predikáty odvozené z qb:componentProperty"@cs ;
  rdfs:comment "Vyberte predikáty z Data Cube Vocabulary (pojmenovaný graf `http://purl.org/linked-data/cube`), které jsou odvozené z `qb:componentProperty` pomocí `rdfs:subPropertyOf`."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?property
WHERE {
  GRAPH <http://purl.org/linked-data/cube> {
    ?property rdfs:subPropertyOf qb:componentProperty .
  }
}
  """ .

exercise:count-datasets a sp:Query ;
  rdfs:label "Počet datasetů"@cs ;
  rdfs:comment "Spočtěte instance `qb:DataSet` v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`)."@cs ;
  sp:text """
PREFIX qb: <http://purl.org/linked-data/cube#>

SELECT (COUNT(DISTINCT ?dataSet) AS ?count)
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    ?dataSet a qb:DataSet .
  }
}
  """ .

exercise:dataset-attributes a sp:Query ;
  rdfs:label "Atributy v důchodových ročenkách"@cs ;
  rdfs:comment "Vyberte atributy (tj. instance `qb:AttributeProperty`), které jsou použity ve struktuře důchodových ročenek (dataset a pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`)."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>

SELECT ?attribute
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> qb:structure ?dsd .
    ?dsd qb:component [
      ?property ?attribute
    ] .
    ?attribute a qb:AttributeProperty .
  }
}
  """ .

exercise:dataset-component-labels-czech a sp:Query ;
  rdfs:label "Názvy komponent datasetu důchodových ročenek v češtině"@cs ;
  rdfs:comment "Vyberte názvy komponent datasetu důchodových ročenek (dataset a pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`) v češtině. Výsledky seřaďte vzestupně dle volitelně uvedeného pořadí komponent (`qb:order`) ve struktuře datasetu. Názvy se nebudou opakovat."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?componentLabel
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> qb:structure ?dsd .
    ?dsd qb:component ?component .
    ?component rdfs:label ?componentLabel .
    FILTER langMatches(lang(?componentLabel), "cs")
    OPTIONAL {
      ?component qb:order ?order .
    }
  }
}
ORDER BY ?order
  """ .

exercise:dataset-component-properties-with-classes a sp:Query ;
  rdfs:label "Komponenty datasetu důchodových ročenek s třídami"@cs ;
  rdfs:comment "Vyberte komponenty datasetu důchodových ročenek (dataset a pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`) spolu s volitelně uvedenými třídami predikátů, na něž komponenty odkazují přes predikát odvozený z `qb:componentProperty` pomocí `rdfs:subPropertyOf` v Data Cube Vocabulary (pojmenovaný graf `http://purl.org/linked-data/cube`)."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?componentProperty ?class
WHERE {
  GRAPH <http://purl.org/linked-data/cube> {
    ?property rdfs:subPropertyOf qb:componentProperty .
  } 
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> qb:structure ?dsd .
    ?dsd qb:component [
      ?property ?componentProperty
    ] .
    OPTIONAL {
      ?componentProperty a ?class .
    }
  }
}
ORDER BY ?componentProperty
  """ .

exercise:dataset-component-properties-with-most-specific-classes a sp:Query ;
  rdfs:label "Komponenty datasetu důchodových ročenek s nejspecifičtějšími třídami"@cs ;
  rdfs:comment "Vyberte komponenty datasetu důchodových ročenek (dataset a pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`) spolu s volitelně uvedenými třídami predikátů, na něž komponenty odkazují přes predikát odvozený z `qb:componentProperty` pomocí `rdfs:subPropertyOf` v Data Cube Vocabulary (pojmenovaný graf `http://purl.org/linked-data/cube`). Vybere pouze nejspecifičtější třídy, které nemají žádné podtřídy odkazované pomocí `rdfs:subClassOf`."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

SELECT ?componentProperty ?class
WHERE {
  GRAPH <http://purl.org/linked-data/cube> {
    ?property rdfs:subPropertyOf* qb:componentProperty .
  }
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> qb:structure ?dsd .
    ?dsd qb:component [
      ?property ?componentProperty
    ] .
    OPTIONAL {
      ?componentProperty a ?class .
    }
  }
  FILTER NOT EXISTS {
    [] rdfs:subClassOf ?class .
  }
}
  """ .

exercise:dataset-dimensions a sp:Query ;
  rdfs:label "Dimenze důchodových ročenek"@cs ;
  rdfs:comment "Vyberte dimenze (instance `qb:DimensionProperty`) ze struktury datasetu důchodových ročenek (dataset a pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Dimenze se nebudou ve výsledcích opakovat."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>

SELECT DISTINCT ?dimension
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> qb:structure/qb:component/(qb:dimension|qb:componentProperty) ?dimension .
    ?dimension a qb:DimensionProperty .
  }
}
  """ .

exercise:dataset-measures a sp:Query ;
  rdfs:label "Míry důchodových ročenek"@cs ;
  rdfs:comment "Vyberte míry (instance `qb:MeasureProperty`) ze struktury datasetu důchodových ročenek (dataset a pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Míry se nebudou ve výsledcích opakovat."@cs ;
  sp:text """
PREFIX qb:   <http://purl.org/linked-data/cube#>

SELECT DISTINCT ?measure
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> qb:structure/qb:component/(qb:measure|qb:componentProperty) ?measure .
    ?measure a qb:MeasureProperty .
  }
}
  """ .

exercise:datasets a sp:Query ;
  rdfs:label "Datasety důchodových ročenek"@cs ;
  rdfs:comment "Vyberte datasety (instance `qb:DataSet`) důchodových ročenek (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Výsledné datasety uveďte bez opakování."@cs ;
  sp:text """
PREFIX qb: <http://purl.org/linked-data/cube#>

SELECT DISTINCT ?dataset 
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    ?dataset a qb:DataSet .
  }
}
  """ .

exercise:vocabularies a sp:Query ;
  rdfs:label "Slovníky"@cs ;
  rdfs:comment "Vyberte slovníky použité v datech důchodových ročenek (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`). Jako slovník berte jmenný prostor termínu instanciované třídy nebo použitého predikátu. Za jmenný prostor považujte část IRI termínů po poslední lomítko (`/`) nebo hash (`#`). Pro každý slovník vraťte počet rozdílných termínů a výsledky seřaďte sestupně dle tohoto počtu."@cs ;
  sp:text """
SELECT ?vocabulary (COUNT(*) AS ?count)
WHERE {
  {
    # Instanciované třídy
    SELECT DISTINCT ?term
    WHERE {
      GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
        [] a ?term .
      }
    }
  } UNION {
    # Použité predikáty
    SELECT DISTINCT ?term
    WHERE {
      GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
        [] ?term [] .
      }
    }
  }
  BIND (IRI(REPLACE(STR(?term), "^(.+)(#|\\\\/).+$", "$1")) AS ?vocabulary)
}
GROUP BY ?vocabulary
ORDER BY DESC(?count)
  """ .

exercise:most-common-class-data a sp:Query ;
  rdfs:label "Nejčastěji instanciovaná třída v důchodových ročenkách"@cs ;
  rdfs:comment "Vyberte třídu s nejvyšším počtem instancí v důchodových ročenkách (pojmenovaný graf `https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech`)."@cs ;
  sp:text """
SELECT ?class 
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/duchodci-v-cr-krajich-okresech> {
    ?s a ?class .
  }
}
GROUP BY ?class
ORDER BY DESC(?count)
LIMIT 1
  """ .

exercise:ambiguous-notation-references a sp:Query ;
  rdfs:label "Jsou notace číselníkových konceptů víceznačné?"@cs ;
  rdfs:comment "Zjistěte, zdali jsou číselnících (pojmenovaný graf `https://data.cssz.cz/resource/dataset/pomocne-ciselniky`) různé koncepty, které sdílí stejnou notaci (hodnotu `skos:notation`)."@cs ;
  sp:text """
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>

ASK
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/pomocne-ciselniky> {
    ?a skos:inScheme ?scheme ;
      skos:notation ?notation .
    ?b skos:inScheme ?scheme ;
      skos:notation ?notation .
    FILTER (!sameTerm(?a, ?b))
  }
}
  """ .

exercise:ambiguous-notation-references-construct a sp:Query ;
  rdfs:label "Víceznačné notace číselníkových konceptů"@cs ;
  rdfs:comment """Vyberte různé koncepty číselníků (pojmenovaný graf `https://data.cssz.cz/resource/dataset/pomocne-ciselniky`), které sdílí stejnou notaci (hodnotu `skos:notation`). Výsledkem bude RDF graf s následující podobou, kde `?a` a `?b` jsou koncepty číselníku a `?notation` je notace, kterou sdílí:
```sparql
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX spin: <http://spinrdf.org/spin#>

CONSTRUCT {
  [] a spin:ConstraintViolation ;
    spin:violationRoot ?a, ?b ;
    spin:violationPath skos:notation ;
    spin:violationValue ?notation ;
    rdfs:comment "Concepts within the same concept scheme should not have identical skos:notation literals."@en ;
    rdfs:seeAlso <https://github.com/cmader/qSKOS/wiki/Quality-Issues#ambiguous-notation-references> .
}
```"""@cs ;
  sp:text """
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX spin: <http://spinrdf.org/spin#>

CONSTRUCT {
  [] a spin:ConstraintViolation ;
    spin:violationRoot ?a, ?b ;
    spin:violationPath skos:notation ;
    spin:violationValue ?notation ;
    rdfs:comment "Concepts within the same concept scheme should not have identical skos:notation literals."@en ;
    rdfs:seeAlso <https://github.com/cmader/qSKOS/wiki/Quality-Issues#ambiguous-notation-references> .
}
WHERE {
  GRAPH <https://data.cssz.cz/resource/dataset/pomocne-ciselniky> {
    ?a skos:inScheme ?scheme ;
      skos:notation ?notation .
    ?b skos:inScheme ?scheme ;
      skos:notation ?notation .
    FILTER (!sameTerm(?a, ?b))
  }
}
  """ .
